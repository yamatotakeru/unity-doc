!アセットワークフロー / Asset Workflow

本項で、Unityで単一のアセットを使う工程について説明をします。 ここで説明する工程はおおまかなものですので、基本操作を概観するためのものと理解してください。 例として、３Ｄメッシュの使い方を取り上げましょう。


!!ラフアセットを作成する（Create Rough Asset）

あなた自身のアセットのラフバージョンを作成するために、サポートされている適当な３Ｄモデリングアプリケーションを使ってみましょう。 ここでは、例としてMayaを使ってみます。 適当なアセットを作成し、セーブする直前まで進めます。 Unityがサポートするアプリケーションのリストは、 [[HOWTO-importObject|this page]] にあります。


!!インポート（Import）

あなた自身のアセットを最初にセーブする際、あなたが現在作業しているプロジェクトフォルダ内の $$Assets$$ フォルダに通常はセーブすることをお勧めします。 Unityのプロジェクトを開く時に、そのアセットが認識され、プロジェクトにインポートされます。  $$Project View$$ を見てみれば、アセットがその場所（あなたがアセットをセーブしたフォルダです）にあることがわかるでしょう。 ここで注意すべきことは、あなたが使用しているモデリングアプリケーションが提供しているFBXエクスポーターを、Unityが使っているということです。 このFBXエクスポーターが、あなたが作ったモデルをFBXファイルフォーマットに変換しているのです。 従って、あなたが使うモデリングアプリケーションには、Unityが利用できるFBXエクスポーターが付属している必要があります。 もしくは、あなたが使っているアプリケーションからFBXを直接エクスポートして、作業中のプロジェクトフォルダにセーブすることも可能です。 Unityによってサポートされているアプリケーションのリストは、 [[HOWTO-importObject|this page]] にあります。


!!インポート設定（Import Settings）

$$Project View$$ よりアセットを選択すると、 $$Inspector$$ にこのアセットのインポート設定が現れます。 表示されるオプションは、選択したアセットの種類に応じて変化します。


!!シーンにアセットを追加する（Adding Asset to the Scene）

あるメッシュをシーンに追加するためには、プロジェクトビューから $$Hierarchy$$ もしくは $$Scene View$$ へ、メッシュをクリック＆ドラッグするだけです。 あるメッシュをシーンにドラッグすることで、 ``Mesh Renderer`` $$Component$$ を持つ $$GameObject$$ を作成していることになります。 もしテクスチャやサウンドファイルを適用したいならば、シーンもしくはプロジェクト中にすでに存在しているゲームオブジェクトに対してそれらを適用することになります。


!!異なるアセットをまとめる（Putting Different Assets Together）

以下に、最もよく使われるアセット間の関係を簡単に記述しておきます

* テクスチャは、 $$Material$$ に対して適用されます
* マテリアルは、メッシュレンダラコンポーネントを持つゲームオブジェクトに対して適用されます
* ``Animation`` は、アニメーションコンポーネントを持つゲームオブジェクトに対して適用されます
* サウンドファイルは、 ``Audio Source`` コンポーネントを持つゲームオブジェクトに対して適用されます


!!プレハブを作成する（Creating a Prefab）

$$Prefabs$$ とは、あなたが作業しているシーン中で、再利用することのできるゲームオブジェクトやコンポーネントのコレクションのことです。 まったく同じいくつかのオブジェクトをたったひとつのプレハブから作ることが可能です。 これをインスタンス化と呼びます。 例として、樹木を取り上げてみましょう。 樹木のプレハブをひとつ作ることで、まったく同じいくつかの木々をインスタンス化し、それらをあなたが作業しているシーンの中に配置することができるようになります。もちろんそれらの木々は元のプレハブにリンク付けられていますので、プレハブに変更を加えれば、自動的に木々のインスタンスすべてにその変更が適用されます。つまり、もしメッシュやマテリアル、もしくはその他の何かを変更したくなった時にやるべきことは、元となっているプレハブを一度変更するだけです。 他のすべての木々はその変更を継承します。 もちろんひとつのインスタンスに対して変更を加えることも可能ですし、メインメニューから ^^GameObject->Apply Changes to Prefab^^ を選択することも可能です。 プレハブを上手に使うことで、アセットの配置やアップデートにかかる時間を大いに節約することができます。

複数のコンポーネントを持つゲームオブジェクトや、子としてゲームオブジェクトの階層を持っているゲームオブジェクトを扱っている時には、ゲームオブジェクトの最上位階層（もしくは $$root$$ 階層）のプレハブを作成することが可能です。その場合、ゲームオブジェクトのコレクションを丸ごと再利用することができます。

あるプレハブを、様々なゲームオブジェクトから作られているひとつの構造物のブループリントと考えてみましょう。 プレハブによって作られたすべてのクローンはブループリントとまったく同一のものとなります。 従ってブループリントが更新されたら、すべてのクローンも更新されます。 プレハブそれ自身をアップデートするにも様々な方法があり、そのクローンのひとつのみを変更したり、その変更をブループリントまで適用するなどが可能です。 より詳しいプレハブの使い方とアップデートの仕方に関しては、 [[Prefabs]] のページを参照してください。

シーン中のあるゲームオブジェクトから実際にプレハブを作成するには、シーンからプロジェクトへそのゲームオブジェクトをドラッグするだけです。するとゲームオブジェクトの名前が青色に変わるのがわかると思います。新しいプレハブには好きな名前を付けましょう。これで再利用可能なプレハブが出来上がりです。


!!アセットのアップデート（Updating Assets）

あなたが作ったアセットをインポートし、インスタンス化し、そしてプレハブにリンクしました。 その時点でソースとなっているアセットをエディットしたくなりました。そんな場合は、プロジェクトビューからアセットをダブルクリックします。 適当なアプリケーションが立ち上がり、好きなように変更を加えることができます。 アップデートが終わったら、セーブしましょう。 次にUnityに切り替えた時に、更新が認識されて、アセットが再度インポートされることでしょう。 アセットとプレハブとのリンクも維持されています。 その結果として、プレハブが更新されている状態を見ることになるでしょう。 これがアセットの更新に関してあなたが知っておくべきことのすべてです。 つまり、アセットを開いてセーブすればよいのです！

[[#AssetLabels]]
!! アセットに任意のラベルを追加する（Optional - Adding Labels to the Assets.）

もしあなた自身のアセットを常にきちんと整理しておきたいのならば、アセットにラベルを追加するのは良いアイディアです。そうすることで、プロジェクトビューやオブジェクトセレクターのサーチフィールドで、おのおののアセットに関連付けられたラベルを使って検索することができるようになります。

アセットにラベルを追加する手順は以下の通りです:
* ラベルを追加したいアセットを選択する（プロジェクトビューから行います）。
* そのアセットに関連付けたいラベルがまだない場合には、インスペクターの "Add Label" アイコン (Attach:AssetLabelAdd.png) をクリックする。
** そのアセットに関連付けたいラベルがある場合には、そのラベルをクリックする。
* ラベルを記入する。

__Notes:__
* どんなアセットにも、ひとつ以上のラベルを付けることができます。
* ラベルを区切ったり、作成したりする時には、 __space__ もしくは __enter__ キーをラベル名の記入中に入力してください。

