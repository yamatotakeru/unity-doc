! ブルーム

``Blooming`` （ブルーム）とは明るい光源（例えば、閃光のような）からの光が周囲の物体に漏れるように見える光学効果である。$$Bloom$$ エフェクトはブルームを追加したうえで、さらに非常に効率的な方法でレンズフレアを自動生成します。ブルームはシーンに大きな違いを生む効果であり、と[[HDR]] レンダリングと一緒に使用して、魔法や夢の中の世界のような印象を与える非常に特徴的な効果である。一方、適切な設定が与えることで、この効果を利用した写真のようなリアリティを向上させることも可能です。非常に明るいオブジェクトの周りの輝きは、輝度が大幅に異なる場合のよくある現象として、映画や写真のなかで観察されます。ブルームはシンプルながら最適化された [[script-FastBloom|FastBloom]] および [[script-BloomAndLensFlares|ブルームおよびフレア]] エフェクトの拡張した機能です。



Attach:ImageEffects./HDRBloom2.png\\
HDRで適切な輝度を$$Bloom$$エフェクトで再現した例。このシーンでは、BloomHDRでしきい値1.0を設定していて、反射、ハイライトや発光面は輝度を増しますが、一般的なライティングは、全般に影響を受けません。この特定の例では、車窓だけが輝いています。（HDRの日光反射による）

Attach:ImageEffects./bloomAnamorphicFlares.png\\
$$Bloom$$ エフェクトによって作成された``Anamorphic Lens Flares``の例

その他の [[comp-ImageEffects|image effects]] 同様、この効果は Unity Pro 専用です。 必ず、[[HOWTO-InstallStandardAssets|Pro Standard Assets]] をインストールしてください。

!! プロパティ

||PROPS
||``Quality`` ||Highで高品質、高周波数を維持し、エイリアシング低減します。||
||``Mode`` ||高度なオプションを表示するにはComplexモードを選択します。||
||``Blend mode`` ||カラーバッファにBloomを追加するために使用するメソッド。柔らかいScreenモードは、明るい画像のディテールを保持するのに良いですが、HDRでは動作しません。 ||
||``HDR`` ||BloomがHDRバッファを使用しているかどうかピクセル強度が、[0,1]の範囲から出るかもしれないので、異なった見た目になる。詳細は[[script-Tonemapping|トーンマッピング]] と[[HDR|HDR]] を参照して下さい。||
||``Cast lens flares`` ||スクリーンベースの自動レンズフレア生成を有効または無効にします。||

||``Intensity`` ||追加されたライトのグローバルライト強度（Bloom、Lens Flaresに影響します）。||
||``Threshhold`` ||画像領域のなかでこのしきい値より明るい領域はブルーム（また潜在的にLens Flare）の影響を受けます。||
||``RGB Threshhold`` ||R、G、Bのために選んだ異なるthreshholds ||

||``Blur iterations`` ||ガウス ブラーが適用される回数。反復回数が多いほど平滑性を向上させますが、周波数ノイズを隠すなどさらに処理時間がかかります。||
||``Sample distance`` ||ブラーの最大半径。パフォーマンスには影響しません。||
||``Use alpha mask`` ||アルファチャネルがBloomエフェクトのマスクとして機能する程度。||

||``Lens flare mode`` ||Lens Flareのタイプ。オプションは``Ghosting``、``Anamorphic``、あるいはふたつの組み合わせです。 ||
||``Local intensity`` ||Lens Flareのためだけに使用するローカル強度。0にするとLens Flareは完全に無効。||
||``Local threshold`` ||画像の部分がLens Flareを受けるかを定義する累積ライト強度のしきい値。||
||``Stretch width`` ||Anamorphic Lens Flareの幅。||
||``Rotation`` ||Anamorphic Lens Flareの回転||
||``Blur iterations`` ||Anamorphic Lens Flareにブラーを適用する回数。反復回数が多いほど平滑性を向上させますが、さらに処理時間がかかります。||
||``Saturation`` ||Lens Flareを飽和/(非飽和)させる。0を指定した場合、Lens Flareは完全に``Tint Color``になります。||
||``Tint Color`` ||Anamorphic Lens Flareのカラー調整||
||``1st-4th Color`` ||``Ghosting`` or ``Combined``が選択されたときのすべてのLens Flareのカラー調整||
||``Lens flare mask`` ||画面の端でのLens Flareにより画像の乱れを防ぐために使用されるマスク。||

!!ブレンドモード：AddおよびScreen

ブレンドモードはオーバーレイ時に2つの画像を合成する方法を決定します。ベースの画像から各ピクセルは、オーバーレイ画像での対応する位置のピクセルと数学的に組み合わせます。UnityのイメージエフェクトはAdd、Screen二つのブレンドモードが用意されています。

!!!Addモード

画像がAddモードでブレンドされている場合、カラーチャネル（赤、緑、青）の値は、単純に足し合わされ、最大でも値は1となります。全体的な効果として最終的には、明るくない画像の領域を最も明るい部分に溶け込むことができます。最終的なイメージは色やディテールを失うため、Addモードは、まぶしいホワイトアウト効果が必要な場合に便利です。

!!!Screenモード

白いスクリーン上に同時2つのソース画像を投影する効果をシミュレートしているので、Screenモードと命名されています。各カラーチャネルは、別々に同じ値を合成します。まず、2つのソースピクセルのカラーチャネルの値が反転されます。（すなわち1から値を引き算します）次に、反転した2つ値が乗算され、その結果が反転されます。結果は、2つのソースピクセルのどちらよりも明るくなる一方で、最大の明るさになるために元の色のどちらか一つも最大の明るさであった場合のみになります。全体的な効果としては、ソース画像より多くのカラーバリエーションとディテールが保持されるため、Addモードよりも緩やかな効果につながります。

(:include imagefx-SM2:)
