!メッシュ クラスの使用

メッシュ クラスは、オブジェクトのメッシュ ジオメトリに対する基本的なスクリプト インターフェースです。 これは、頂点、三角形、法線およびテクスチャ座標を表す配列を使用し、また、メッシュ生成を支援するその他多くの便利なプロパティおよび関数を提供します。


!!オブジェクトのメッシュへのアクセス

メッシュ データは、メッシュ フィルタ コンポーネントを使用してオブジェクトに追加されます (このオブジェクトはまた、ジオメトリを表示させるのにメッシュ レンダラを必要とします。)。 このコンポーネントには、よく慣れた GetComponent 関数を通じてアクセスできます。

[@var mf: MeshFilter = GetComponent(MeshFilter);
// mf. メッシュを使用して、メッシュ自体を参照します。@]


!!メッシュ データの追加

メッシュ オブジェクトには、頂点およびその関連するデータ (法線および UV 座標) および三角形データに対するプロパティがあります。 頂点は任意の順番で提供されますが、法線および UV の配列は、インデックスがすべて頂点に対応するように順序付けされる必要があります (つまり、法線の配列の要素 0 は、頂点 0 に法線を提供します)。 頂点は、オブジェクトのローカル空間における点を表す Vector3 です。 法線は、再度ローカル座標で方向を表す標準化された Vector3 になります。 UV は、Vector2 で指定されまsが、Vector2 タイプには、U や V というフィールドはないため、頭の中でこれらをそれぞれ X と Y に変換する必要があります。

三角形は、頂点配列のインデックスとして機能する整数の 3 の倍数として指定されます。 三角形を表す特殊なクラスを使用するのではなく、この配列はただの整数インデックスの簡単なリストになります。 これらは各三角形に対する 3 ｔのグループに分けられるので、最初の 3 つの要素は最初の三角形を定義し、次の 3 つは 2 つ目の三角形を定義します。 三角形の重要な詳細は、過度の頂点の順序になります。 開始した角に関係なく、表示されている三角形の外面を見下ろすため、過度が時計回りになるよう、配置される必要があります。

