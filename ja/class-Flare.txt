! フレア

$$Flare$$ オブジェクトは、[[class-LensFlare | Lens Flare Components]] によって使用されるソース アセットです。 フレア自体は、テクスチャ ファイルと、フレアの動作を決定する特定の情報の組み合わせです。  そのため、$$Scene$$でフレアを使用したい場合は、$$GameObject$$ に追加された $$LensFlare$$ $$Component$$ 内から特定のフレアを参照します。

[[HOWTO-InstallStandardAssets | Standard Assets]]  パッケージにフレアのサンプルが置いてあります。 シーンにこれらのいずれかを追加したい場合は、 [[class-LensFlare | Lens Flare]] コンポーネントを GameObject に追加し、$$Material$$ を $$Mesh Renderer$$ に割り当てるのと同様、使用したいフレアをレンズ フレアの''Flare''プロパティにドラッグします。

Attach:FlareInspector.png\\
''フレア $$Inspector$$'''

フレアは、単一の $$Texture$$ にあるいくつかのフレア''要素''を含めることで機能します。  フレア内で、テクスチャのいずれかから含めたい''要素''をつかんで、選択します。 

!!プロパティ

||PROPS
||``Elements`` ||フレア内に含まれたフレア画像の数。 ||
||>>>``Image Index`` |この要素に対して、''Flare Texture''から使用されるフレア画像。  詳細については、下の[[#FlareTextures | Flare Textures]] を参照してください。 ||
||>>>``Position`` ||画面中央を通る含まんでいる GameObject の位置からくる線にそった要素のオフセット。 0 = GameObject position, 1 = screen center. ||
||>>>``Size`` ||要素のサイズ。 ||
||>>>``Color`` ||要素の色。 ||
||>>>``Use Light Color`` ||フレアを光に追加する場合、これを有効にすることで、その光の色がフレアに付きます。 ||
||>>>``Rotate`` ||有効にすると、要素の下部が常に画面の中央を向き、レンズ フレアが画面周辺で回転すると共に、要素を回転させます。 ||
||>>>``Zoom`` ||有効にすると、表示した時に要素が拡大し、非表示にすると、再度縮小します。||
||>>>``Fade`` ||有効にすると、表示した時に要素がフェードインし、非表示にすると、フェードアウトします。||
||``Flare Texture`` ||このフレアの''要素''によって使用される画像を含むテクスチャ。 ''TextureLayout''オプションのいずれかに応じて配置する必要があります。 ||
||``Texture Layout`` ||''Flare Texture''内での個々のフレア要素画像の配置のされ方。\\
Attach:FlareLayouts.png ||
||``Use Fog`` ||有効にすると、フレアは遠くにある霧と共にフェードアウェイします。 一般に小さいフレアに使用されます。 ||


!!詳細

フレアは、線にそって配置された複数の''要素''で構成されます。 この線は、レンズ フレアを含む GameObject の位置と、画面の中心を比較することで計算されます。  線は、含んでいる GameObject と画面の中心を超えて伸びます。  フレア''要素''はすべてこの線上で伸びます。


[[#FlareTextures]]
!! フレア テクスチャ

パフォーマンス上の理由から、1 つのフレアのすべての''要素''は、同じテクスチャを共有する必要があります。 このテクスチャには、1 つのフレア内の要素として使用できる様々な画像が含まれます。 ''テクスチャ レイアウト''は、''フレア テクスチャ''内で''要素''がどのように配置されるかを定義します。


!!! テクスチャ レイアウト

異なるフレア''テクスチャ レイアウト''に対するオプションです。  画像内の数字は、各''要素''に対する''画像インデックス''プロパティに対応しています。

||PROPS
||``1 Large 4 Small`` ||Attach:FlaresLayout0.png\\
''要素''の 1 つに他の要素よりも高い忠実度を与える必要がある大きい宋式のフレア向けに設計されています。  幅と高さが 2 倍のテクスチャで使用するよう設計されています。 ||
||``1 Large 2 Medium 8 Small`` ||Attach:FlaresLayout1.png\\
1 つの高解像度画像、2 つの中サイズ画像と 8 つの詳細図画像を必要とする複雑なフレア向けに設計されています。  これは、2 つの中サイズの要素が虹色の円である標準の''50mm Zoom Flare''アセットで使用されます。 幅と高さが 2 倍のテクスチャで使用するよう設計されています。 ||
||``1 Texture`` ||Attach:FlaresLayout2.png\\
1 つの画像。 ||
||``2x2 grid`` ||Attach:FlaresLayout3.png\\
シンプルな 2x2 グリッド。 ||
||``3x3 grid`` ||Attach:FlaresLayout4.png\\
シンプルな 3x3 グリッド。 ||
||``4x4 grid`` ||Attach:FlaresLayout5.png\\
シンプルな 4x4 グリッド。 ||

!! ヒント
* 異なる多くのフレアを使用する場合、すべての要素を含む 1 つの''フレア　テクスチャ''を使用すると、最高のレンダリング パフォーマンスが得られます。
* レンズ フレアは、$$Colliders$$ にブロックされます。  フレア GameObject とカメラ間のコライダが $$Mesh Renderer$$ を持たない場合でも、コライダはフレアを非表示にします。

